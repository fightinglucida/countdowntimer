# 倒计时功能重新设计

## 功能概述

根据提供的三个原型图，重新设计了倒计时功能，实现了以下核心功能：

## 主要功能

### 1. 倒计时设置状态（默认状态）
- **时分秒显示框**：顶部显示可编辑的时分秒输入框
  - 时：0-99
  - 分：0-59
  - 秒：0-59
  - 点击数字可直接编辑时间

### 2. 常用倒计时时长
- 提供5个预设时长按钮：
  - 5min
  - 10min
  - 25min
  - 30min
  - 1h
- 点击按钮快速设置倒计时时间

### 3. 控制按键区
- **常用时长按钮**：控制常用时长选择区的显示/隐藏
- **启动定时器按钮**：启动倒计时，进入倒计时运行状态
- **背景主题选择按钮**：控制主题选择区的显示/隐藏

### 4. 背景主题选择
基于 Vanta.js 的5个动态背景特效：
- **森林**：cells 效果 - 动态细胞网络
- **夏夜**：topology 效果 - 拓扑网络
- **天空**：clouds 效果 - 云朵飘动
- **沙滩**：fog 效果 - 雾气效果
- **海浪**：waves 效果 - 波浪动画

### 5. 倒计时运行状态
- 隐藏设置区域，只显示倒计时显示框
- 显示两个控制按钮：
  - **暂停按钮**：暂停倒计时，可重新启动
  - **停止按钮**：停止倒计时，返回设置状态

### 6. 倒计时完成提醒
- **完成弹窗**：显示"时间到了"提醒
- **音效提醒**：使用 Web Audio API 生成蜂鸣声，循环播放
- **标题闪烁**：网页标题在"⏰ 时间到了！"和原标题间闪烁
- **知道了按钮**：点击关闭弹窗，恢复到设置状态

## 技术实现

### 组件结构
```
app/
├── page.tsx                           # 主页面
├── components/
│   ├── NewCountdownTimer.tsx          # 新倒计时组件
│   ├── EnhancedVantaBackground.tsx    # 增强背景组件
│   └── CountdownCompletionModal.tsx   # 完成提醒弹窗
```

### 核心特性
- **响应式设计**：适配不同屏幕尺寸
- **动画效果**：使用 Framer Motion 实现流畅动画
- **状态管理**：React Hooks 管理组件状态
- **动态背景**：Vanta.js 提供5种不同主题背景
- **音效系统**：Web Audio API 生成提醒音效
- **用户体验**：直观的交互设计和视觉反馈

### 状态流转
```
设置状态 → 运行状态 → 完成状态 → 设置状态
    ↑                              ↓
    ←←←←←←← 停止按钮 ←←←←←←←←←←←←←←←←
```

## 使用说明

1. **设置倒计时**：
   - 点击时分秒数字框直接编辑时间
   - 或点击预设时长按钮快速设置

2. **选择背景主题**：
   - 点击"背景主题"按钮
   - 选择喜欢的背景效果

3. **启动倒计时**：
   - 点击"启动定时器"按钮开始倒计时

4. **控制倒计时**：
   - 运行中可点击"暂停"或"停止"
   - 暂停后可点击"继续"重新开始

5. **完成提醒**：
   - 倒计时结束自动弹出提醒
   - 点击"知道了"关闭提醒

## 设计亮点

- **简洁界面**：去除复杂功能，专注倒计时核心需求
- **视觉效果**：动态背景和流畅动画提升用户体验
- **交互友好**：直观的按钮布局和状态反馈
- **多感官提醒**：视觉弹窗 + 音效 + 标题闪烁
- **主题切换**：5种精美背景主题满足不同喜好