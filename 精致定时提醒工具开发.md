# 精致定时提醒工具 - 功能需求文档 & 任务待办清单

## 一、功能需求文档

### 1. 核心定位

基于纯前端技术（Next.js + localStorage）开发的免登录定时提醒工具，支持倒计时、白噪音播放、到期多维度提醒，数据仅存储在用户浏览器，支持导出 / 导入，可部署于 Vercel/Cloudflare Pages。

### 2. 核心功能模块

#### （1）定时器管理模块



*   新增定时器：支持自定义**时长**（分钟 / 秒）、**提醒标题**（如 “该吃饭了”“起身活动”）、**关联白噪音**（可选）。

*   状态控制：单个定时器支持**启动 / 暂停**，暂停后保留剩余倒计时，启动后继续递减；支持**删除**无用定时器。

*   数据持久化：所有定时器配置（时长、标题、运行状态、剩余时间、关联白噪音）自动存入 localStorage，关闭浏览器 / 刷新页面后数据不丢失。

#### （2）白噪音模块



*   预设白噪音库：包含至少 3 类常用白噪音（如雨声、咖啡馆背景音、森林鸟鸣），支持循环播放。

*   状态控制：单个白噪音支持**开启 / 关闭**，切换白噪音时自动停止当前播放的音效；显示当前活跃的白噪音标识（如按钮高亮）。

#### （3）到期提醒模块



*   多维度提醒：


    *   音频提醒：播放预设提醒音（如叮咚声），确保用户能通过声音感知。

    *   标签页提醒：标签标题动态切换（如 “⏰ 到时间该起身啦！” 与原标题交替），持续闪烁 5 秒；若标签在后台，闪烁频率提高。

    *   页面弹窗：弹出带动画的提醒弹窗（如抖动效果），显示自定义提醒标题，3 秒后自动关闭。

#### （4）数据导出 / 导入模块



*   数据导出：支持将 localStorage 中的所有定时器配置导出为 JSON 文件，文件名默认 “timer\_config\_日期.json”。

*   数据导入：支持上传本地 JSON 配置文件，解析后覆盖当前定时器列表（导入前提示 “是否覆盖现有配置”）。

### 3. 非功能需求



*   界面体验：极简精致风格，用 Tailwind CSS 实现按钮 hover 过渡、卡片阴影交互、弹窗动画，提升操作手感。

*   兼容性：适配主流浏览器（Chrome、Edge、Safari），确保 localStorage、Audio 对象、标签标题修改功能正常。

*   部署要求：支持 GitHub 代码托管，可一键部署至 Vercel/Cloudflare Pages，无需额外后端配置。

## 二、任务待办清单

### 1. 前期准备（1-2 天）



1.  创建 Next.js 项目，集成 Tailwind CSS（选装 Shadcn UI 用于基础组件）。

2.  准备音频资源：下载 3 类白噪音（雨声、咖啡馆、森林）、1 个提醒音，放入`public/audio`文件夹，确保支持循环播放。

3.  设计页面结构草图：确定 “定时器列表区”“白噪音选择区”“导出 / 导入按钮区”“提醒弹窗” 的布局位置。

### 2. 核心功能开发（3-4 天）



| 任务 ID | 任务内容              | 技术要点                                                   | 验收标准                                                 |
| ----- | ----------------- | ------------------------------------------------------ | ---------------------------------------------------- |
| 2.1   | 定时器基础逻辑开发         | React 状态管理（timers 数组）、setInterval 倒计时、clearInterval 暂停 | 1. 新增定时器后显示时长 / 标题；2. 启动后倒计时实时递减；3. 暂停后重启可继续倒计时      |
| 2.2   | localStorage 数据同步 | useEffect 监听 timers 变化、JSON.stringify/parse 转译         | 1. 刷新页面后定时器配置完全恢复；2. 删除定时器后 localStorage 同步删除        |
| 2.3   | 白噪音播放功能           | Audio 对象、loop 属性、状态标记（activeNoise）                     | 1. 点击白噪音按钮可启动 / 停止；2. 切换白噪音时自动停止当前音效；3. 显示当前活跃的白噪音标识 |
| 2.4   | 到期多维度提醒           | Audio.play ()、document.title 切换、CSS @keyframes 弹窗动画    | 1. 倒计时到 0 时播放提醒音；2. 标签标题交替闪烁 5 秒；3. 页面弹出抖动弹窗并 3 秒后关闭 |

### 3. 数据导出 / 导入开发（1 天）



1.  导出功能：用 File API 创建 Blob 对象，生成 JSON 文件下载链接，绑定 “导出配置” 按钮。

2.  导入功能：创建文件上传输入框，监听 change 事件，读取 JSON 文件内容，解析后更新 timers 状态，增加覆盖确认提示。

### 4. 界面优化与兼容性调试（1-2 天）



1.  样式优化：给按钮 / 卡片加 hover 过渡效果（如 bg 颜色渐变、shadow 加深），调整字体大小 / 颜色匹配精致风格。

2.  兼容性调试：在 Chrome、Edge、Safari 分别测试，确保：

*   localStorage 数据读写正常；

*   音频播放无异常；

*   标签标题闪烁在各浏览器生效。

1.  细节优化：定时器时长显示格式（如 “25:00” 而非 “1500 秒”），白噪音按钮选中状态高亮，弹窗动画流畅。

### 5. 部署与上线（0.5 天）



1.  代码提交：将项目推送到 GitHub 仓库（确保.gitignore 排除 node\_modules、.next 等文件）。

2.  部署 Vercel：

*   登录 Vercel 关联 GitHub 仓库；

*   自动识别 Next.js 配置，直接部署；

*   验证部署后的功能是否与本地一致。

1.  记录部署域名：保存 Vercel 临时域名，便于后续访问 / 分享。

> （注：文档部分内容可能由 AI 生成）